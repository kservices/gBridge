

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Getting Started &mdash; Kappelt gBridge 1.0.0 documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Device Mechanism" href="deviceMechanism.html" />
    <link rel="prev" title="Introduction" href="../index.html" /> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> Kappelt gBridge
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">First steps:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../index.html">Introduction</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Getting Started</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#register-a-new-account">Register a new account</a></li>
<li class="toctree-l2"><a class="reference internal" href="#a-first-device">A first device</a></li>
<li class="toctree-l2"><a class="reference internal" href="#connect-google-assistant">Connect Google Assistant</a></li>
<li class="toctree-l2"><a class="reference internal" href="#test-it">Test it</a></li>
<li class="toctree-l2"><a class="reference internal" href="#going-further">Going further</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="deviceMechanism.html">Device Mechanism</a></li>
<li class="toctree-l1"><a class="reference internal" href="deviceTypes.html">Device Types</a></li>
<li class="toctree-l1"><a class="reference internal" href="mqttServer.html">Hosted MQTT server</a></li>
<li class="toctree-l1"><a class="reference internal" href="../exampleUsage/fhem.html">FHEM examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../exampleUsage/communityManuals.html">Community Manuals</a></li>
<li class="toctree-l1"><a class="reference internal" href="../selfHosted/hostItYourself.html">Self-Hosted gBridge</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Kappelt gBridge</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>Getting Started</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/firstSteps/gettingStarted.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="getting-started">
<span id="gettingstarted"></span><h1>Getting Started<a class="headerlink" href="#getting-started" title="Permalink to this headline">¶</a></h1>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This manual is made with the hosted gBridge service. If you are running gBridge on your own servers, there might be some small differences. However, they can be easily adapted.</p>
</div>
<div class="section" id="register-a-new-account">
<h2>Register a new account<a class="headerlink" href="#register-a-new-account" title="Permalink to this headline">¶</a></h2>
<p>That’s not complicated at all: just visit <a class="reference external" href="https://gbridge.kappelt.net/register">https://gbridge.kappelt.net/register</a> and fill in the required information. After you’ve received the confirmation email, you can instantly log in.</p>
</div>
<div class="section" id="a-first-device">
<h2>A first device<a class="headerlink" href="#a-first-device" title="Permalink to this headline">¶</a></h2>
<p>You’ll see your account’s dashboard for the first time after logging in.</p>
<div class="align-center figure" id="id1">
<a class="reference internal image-reference" href="../_images/empty-dashboard-devices.png"><img alt="No devices have been created yet." src="../_images/empty-dashboard-devices.png" style="width: 100%;" /></a>
<p class="caption"><span class="caption-text">Your dashboard</span></p>
</div>
<p>Press the top-right button labeled with “+ Device” to create a new one. Choose whatever you like. For this example, I’ve chosen “Light” as the type and both “On and Off” and “Brightness” as supported traits.</p>
<div class="align-center figure" id="id2">
<a class="reference internal image-reference" href="../_images/dashboard-first-device.png"><img alt="You've just created a first device." src="../_images/dashboard-first-device.png" style="width: 100%;" /></a>
<p class="caption"><span class="caption-text">Congratulations! You’ve just created your first virtual device.</span></p>
</div>
<p>Note the MQTT topics that are listed here.</p>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p>You can edit these MQTT topics for the devices as you like. To do so, press the “Edit” button in the device list.</p>
<p class="last">Please note that you can’t specify your own topics while creating new devices, only while editing them after creation.</p>
</div>
</div>
<div class="section" id="connect-google-assistant">
<h2>Connect Google Assistant<a class="headerlink" href="#connect-google-assistant" title="Permalink to this headline">¶</a></h2>
<p>Open the <em>Google Home App</em> to connect your Google Home system to gBridge. Add a new device, select the category “Works with Google”. Select <em>Kappelt gBridge</em>.</p>
<div class="align-center figure">
<a class="reference internal image-reference" href="../_images/googlehome-add-provider.png"><img alt="You can add Kappelt gBridge as a smart home provider in the Google Home app." src="../_images/googlehome-add-provider.png" style="width: 50%;" /></a>
</div>
<div class="align-center figure" id="id3">
<a class="reference internal image-reference" href="../_images/googlehome-link-account.png"><img alt="You need to enter your account's email and an accesskey." src="../_images/googlehome-link-account.png" style="width: 50%;" /></a>
<p class="caption"><span class="caption-text">Enter your email and your password.</span></p>
</div>
<div class="align-center figure" id="id4">
<a class="reference internal image-reference" href="../_images/googlehome-device-listed.png"><img alt="Devices are listed in the Google Home app" src="../_images/googlehome-device-listed.png" style="width: 50%;" /></a>
<p class="caption"><span class="caption-text">Your newly created devices will appear in the list. If you like, you can assign a room to the devices.</span></p>
</div>
<p>If you add new devices in your dashboard, they’ll appear in the list automatically.</p>
<div class="admonition important">
<p class="first admonition-title">Important</p>
<p>There is a bug in a current version of the Google Home app that might lead to the message “Couldn’t update the settings. Check your connection”. This problem is solely caused by the Google Home app, thus we are unable to fix it at the moment.</p>
<p>This issue has been analyzed by <a class="reference external" href="https://www.reddit.com/r/googlehome/comments/7npsz8/psa_solutions_to_the_couldnt_update_the_settings/">some Reddit users</a>. It seems to be common among Android devices with Google Chrome as the standard browser, while being logged in to multiple Google Accounts.</p>
<p class="last">For many users, installing Firefox and setting it (temporarily) to the default browser seemed to fixed the problem.</p>
</div>
</div>
<div class="section" id="test-it">
<h2>Test it<a class="headerlink" href="#test-it" title="Permalink to this headline">¶</a></h2>
<p>Everything is ready now! Messages will now be available on gBridge’s public MQTT server. You can connect to it:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Hostname:</th><td class="field-body">mqtt.gbridge.kappelt.net</td>
</tr>
<tr class="field-even field"><th class="field-name">Port:</th><td class="field-body">8883</td>
</tr>
<tr class="field-odd field"><th class="field-name">Username:</th><td class="field-body">Shown in your account’s dashboard under “My Account”</td>
</tr>
<tr class="field-even field"><th class="field-name">Password:</th><td class="field-body">Is your account’s password by default, but can be changed independently.</td>
</tr>
<tr class="field-odd field"><th class="field-name">TLS:</th><td class="field-body">TLS V1.2 is required</td>
</tr>
</tbody>
</table>
<p><strong>About TLS:</strong> The Server uses an certificate that is signed by Let’s Encrypt.
The Let’s Encrypt CA is trusted by most systems nowadays, you shouldn’t really need to install a certificate.
<a class="reference external" href="https://about.gbridge.kappelt.net/static/LetsEncrypt-AllCAs.pem">Only download the prepared CA certificates</a> if your system doesn’t support them natively.</p>
<p>Subscribe now to the MQTT topic that belongs to your device, for example with <em>mosquitto_sub</em>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mosquitto_sub --username your-mqtt-username <span class="se">\</span>
   --pw your-mqtt-password <span class="se">\</span>
   --capath /etc/ssl/certs/ <span class="se">\</span>
   --host mqtt.gbridge.kappelt.net <span class="se">\</span>
   --port <span class="m">8883</span> <span class="se">\</span>
   --topic gBridge/u2/d4/onoff
</pre></div>
</div>
<div class="align-center figure" id="id5">
<a class="reference internal image-reference" href="../_images/googlehome-try-it.png"><img alt="Google Assistant Example" src="../_images/googlehome-try-it.png" style="width: 100%;" /></a>
<p class="caption"><span class="caption-text">A voice command leads to a published MQTT message.</span></p>
</div>
</div>
<div class="section" id="going-further">
<h2>Going further<a class="headerlink" href="#going-further" title="Permalink to this headline">¶</a></h2>
<p>Now you’re all set! There is more information in this documentation.</p>
<p>Have a look at <a class="reference external" href="https://status.gbridge.kappelt.net">https://status.gbridge.kappelt.net</a>, too. You can subscribe to notifications about planned updates or possible service outages.</p>
<p>If you like, you can follow us on Twitter: <a class="reference external" href="https://twitter.com/Kappelt_gBridge">https://twitter.com/Kappelt_gBridge</a></p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="deviceMechanism.html" class="btn btn-neutral float-right" title="Device Mechanism" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../index.html" class="btn btn-neutral" title="Introduction" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Peter Kappelt.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. <jinja2.runtime.BlockReference object at 0x0000000005EA61D0> 

<br>
<a href="https://github.com/kservices/gBridge">gBridge on Github</a><br>
Learn more about Kappelt gBridge? See <a href="https://about.gbridge.kappelt.net" target="_blank">https://about.gbridge.kappelt.net</a>

 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'1.0.0',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  <script type="text/javascript" src="../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>